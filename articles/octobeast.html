<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Octobeast • octomod</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The Octobeast">
<meta property="og:description" content="octomod">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">octomod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/development.html">Development Thoughts</a>
    </li>
    <li>
      <a href="../articles/octobeast.html">The Octobeast</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/asshah4/octomod/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="octobeast_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The Octobeast</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/asshah4/octomod/blob/master/vignettes/octobeast.Rmd"><code>vignettes/octobeast.Rmd</code></a></small>
      <div class="hidden name"><code>octobeast.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/asshah4/octomod">octomod</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://broom.tidymodels.org/">broom</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span></code></pre></div>
<div id="introduction-to-the-octobeast" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction-to-the-octobeast" class="anchor"></a>Introduction to the <strong>Octobeast</strong>
</h1>
<p>In supervised learning research projects, particularly those with multiple outcomes, the number of models and tests that are performed can become quite lengthy. The <code>octomod</code> package tries to tackle this by providing hypothesis and model organization.</p>
<p>By specifying at the beginning how a model or test should be setup, it becomes easier to implement the overall plan.</p>
<p>There are several basic functions:</p>
<ul>
<li>
<code><a href="../reference/octomod.html">octomod()</a></code> initializes the modeling structure</li>
<li>
<code><a href="../reference/core.html">core()</a></code> defines the core data of the <code>octomod</code> structure, allowing tests to be performed from a centralized data set</li>
<li>
<code><a href="../reference/arm.html">arm()</a></code> creates individual arms to the <code>octomod</code>, which reference a specific family of hypotheses</li>
<li>
<code><a href="../reference/equip.html">equip()</a></code> gives each of the arms a <em>tidied</em> output including model fit and parameters, which can subsequently be called</li>
</ul>
<div id="arms-of-the-octomod" class="section level2">
<h2 class="hasAnchor">
<a href="#arms-of-the-octomod" class="anchor"></a>Arms of the <code>octomod</code>
</h2>
<p>The idea that each <em>arm</em> is a collection of hypothesis is important, as usually modeling involves testing several related hypotheses. The <code><a href="../reference/arm.html">arm()</a></code> function is nice because it allows a modular way to specify mulitple hypotheses.</p>
<p>For example, we could guess that in <code>iris</code>, the <code>Petal.Length</code> is likely dependent on both <code>Sepal.Length</code> and <code>Sepal.Width</code>. We could also guess that <code>Sepal.Length</code> and <code>Sepal.Width</code> may have the same distribution. This suggests two tests:</p>
<ol style="list-style-type: decimal">
<li>Paired t-test to compare t-distribution of <code>Sepal.Length</code> and <code>Sepal.Width</code>
</li>
<li>Linear regression with <code>Petal.Length</code> as outcome, with <code>Sepal.Length</code>, <code>Sepal.Width</code> as predictors.</li>
<li>Linear regression with <code>Petal.Width</code> as outcome, with <code>Sepal.Length</code> and <code>Sepal.Width</code> as predictors and <code>Species</code> as a fixed exposure</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># The data set that we will use</span>
<span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 150 x 5</span>
<span class="co">#&gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="co">#&gt;           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  </span>
<span class="co">#&gt;  1          5.1         3.5          1.4         0.2 setosa </span>
<span class="co">#&gt;  2          4.9         3            1.4         0.2 setosa </span>
<span class="co">#&gt;  3          4.7         3.2          1.3         0.2 setosa </span>
<span class="co">#&gt;  4          4.6         3.1          1.5         0.2 setosa </span>
<span class="co">#&gt;  5          5           3.6          1.4         0.2 setosa </span>
<span class="co">#&gt;  6          5.4         3.9          1.7         0.4 setosa </span>
<span class="co">#&gt;  7          4.6         3.4          1.4         0.3 setosa </span>
<span class="co">#&gt;  8          5           3.4          1.5         0.2 setosa </span>
<span class="co">#&gt;  9          4.4         2.9          1.4         0.2 setosa </span>
<span class="co">#&gt; 10          4.9         3.1          1.5         0.1 setosa </span>
<span class="co">#&gt; # … with 140 more rows</span>

<span class="co"># The t-test</span>
<span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span>, paired <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Paired t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  iris$Sepal.Length and iris$Sepal.Width</span>
<span class="co">#&gt; t = 34.815, df = 149, p-value &lt; 2.2e-16</span>
<span class="co">#&gt; alternative hypothesis: true difference in means is not equal to 0</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;  2.627874 2.944126</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean of the differences </span>
<span class="co">#&gt;                   2.786</span>

<span class="co"># Regressions for petal length</span>
<span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Petal.Length</span> <span class="op">~</span> <span class="va">Sepal.Length</span>, data <span class="op">=</span> <span class="va">iris</span><span class="op">)</span> 
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = Petal.Length ~ Sepal.Length, data = iris)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;  (Intercept)  Sepal.Length  </span>
<span class="co">#&gt;       -7.101         1.858</span>
<span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Petal.Length</span> <span class="op">~</span> <span class="va">Sepal.Length</span> <span class="op">+</span> <span class="va">Sepal.Width</span>, data <span class="op">=</span> <span class="va">iris</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = Petal.Length ~ Sepal.Length + Sepal.Width, data = iris)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;  (Intercept)  Sepal.Length   Sepal.Width  </span>
<span class="co">#&gt;       -2.525         1.776        -1.339</span>

<span class="co"># Regressions for petal width</span>
<span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Petal.Width</span> <span class="op">~</span> <span class="va">Species</span>, data <span class="op">=</span> <span class="va">iris</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = Petal.Width ~ Species, data = iris)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;       (Intercept)  Speciesversicolor   Speciesvirginica  </span>
<span class="co">#&gt;             0.246              1.080              1.780</span>
<span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Petal.Width</span> <span class="op">~</span> <span class="va">Species</span> <span class="op">+</span> <span class="va">Sepal.Length</span>, data <span class="op">=</span> <span class="va">iris</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = Petal.Width ~ Species + Sepal.Length, data = iris)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;       (Intercept)  Speciesversicolor   Speciesvirginica       Sepal.Length  </span>
<span class="co">#&gt;           -0.4794             0.9452             1.5508             0.1449</span>
<span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Petal.Width</span> <span class="op">~</span> <span class="va">Species</span> <span class="op">+</span> <span class="va">Sepal.Width</span> <span class="op">+</span> <span class="va">Sepal.Length</span>, data <span class="op">=</span> <span class="va">iris</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = Petal.Width ~ Species + Sepal.Width + Sepal.Length, </span>
<span class="co">#&gt;     data = iris)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;       (Intercept)  Speciesversicolor   Speciesvirginica        Sepal.Width  </span>
<span class="co">#&gt;           -0.8690             1.1737             1.7849             0.2324  </span>
<span class="co">#&gt;      Sepal.Length  </span>
<span class="co">#&gt;            0.0636</span></code></pre></div>
<p>This gives us three different tests for a single data set. The testing would be more elaborate in a larger dataset perhaps. The approach with <code>octomod</code> is to place each of these testing groups into an hypothetical <em>arm</em> and recall this data when needed.</p>
<p>The <strong>approach</strong> parameter allows for (currently), only either a <em>model_spec</em> object from <code>parsnip</code>, or a simple statistical test from base <code>R</code> (e.g. <code>stats</code>) such as a t-test. If its a test from <code>stats</code>, can pass additional parameters within the <code><a href="../reference/arm.html">arm()</a></code> function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Declare model type with parsnip</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://parsnip.tidymodels.org">parsnip</a></span><span class="op">)</span>
<span class="va">lm_mod</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://parsnip.tidymodels.org/reference/linear_reg.html">linear_reg</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://parsnip.tidymodels.org/reference/set_engine.html">set_engine</a></span><span class="op">(</span><span class="st">"lm"</span><span class="op">)</span>

<span class="co"># Initial the structure</span>
<span class="va">octobeast</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/octomod.html">octomod</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="co"># Add core data</span>
  <span class="fu"><a href="../reference/core.html">core</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="co"># Propose first hypothesis</span>
  <span class="fu"><a href="../reference/arm.html">arm</a></span><span class="op">(</span>
    title <span class="op">=</span> <span class="st">"sepal_paired"</span>,
    plan <span class="op">=</span> <span class="va">Sepal.Length</span> <span class="op">~</span> <span class="va">Sepal.Width</span>,
    approach <span class="op">=</span> <span class="st">"t.test"</span>,
    paired <span class="op">=</span> <span class="cn">TRUE</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="co"># Specify first regression</span>
  <span class="fu"><a href="../reference/arm.html">arm</a></span><span class="op">(</span>
    title <span class="op">=</span> <span class="st">"petal_length"</span>,
    plan <span class="op">=</span> <span class="va">Petal.Length</span> <span class="op">~</span> <span class="va">Sepal.Length</span> <span class="op">+</span> <span class="va">Sepal.Width</span>,
    pattern <span class="op">=</span> <span class="st">"parallel"</span>,
    approach <span class="op">=</span> <span class="va">lm_mod</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="co"># Specify second regression</span>
  <span class="fu"><a href="../reference/arm.html">arm</a></span><span class="op">(</span>
    title <span class="op">=</span> <span class="st">"petal_width"</span>,
    plan <span class="op">=</span> <span class="va">Petal.Width</span> <span class="op">~</span> <span class="va">Sepal.Length</span> <span class="op">+</span> <span class="va">Sepal.Width</span>,
    pattern <span class="op">=</span> <span class="st">"sequential"</span>,
    approach <span class="op">=</span> <span class="va">lm_mod</span>,
    strata <span class="op">=</span> <span class="st">"Species"</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="co"># Get the model and test fits</span>
  <span class="fu"><a href="../reference/equip.html">equip</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Here is what we've set up so far</span>
<span class="va">octobeast</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; This `octomod` has the following components. </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Core Variables </span>
<span class="co">#&gt; -------------- </span>
<span class="co">#&gt; [1] "Sepal.Length" "Sepal.Width"  "Petal.Length" "Petal.Width"  "Species"     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Arms </span>
<span class="co">#&gt; ---- </span>
<span class="co">#&gt; [1] "sepal_paired" "petal_length" "petal_width" </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Equipment </span>
<span class="co">#&gt; ---- </span>
<span class="co">#&gt; [1] "sepal_paired" "petal_length" "petal_width"</span></code></pre></div>
<p>This structure holds the hypothesis we’ve declared, but we haven’t fit or tested them yet. This allows flexibility in that it allows us to focus more on the planning component of hypothesis testing. It also highlights the <strong>pattern</strong> parameter, which reshapes the formulas into how the tests should be run, including having a fixed <strong>exposure</strong> parameter that doesn’t vary. The <strong>test_num</strong> states which iteration was run.</p>
<p>Of note, the final arm shows a different parameter, <strong>strata</strong>, which allows the same hypothesis to performed in strata of the core data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Parallel pattern</span>
<span class="va">octobeast</span><span class="op">$</span><span class="va">arms</span><span class="op">$</span><span class="va">petal_length</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">test_num</span>, <span class="va">formulas</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>formulas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">formulas</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;   test_num formulas                   </span>
<span class="co">#&gt;      &lt;int&gt; &lt;chr&gt;                      </span>
<span class="co">#&gt; 1        1 Petal.Length ~ Sepal.Length</span>
<span class="co">#&gt; 2        2 Petal.Length ~ Sepal.Width</span>

<span class="co"># Sequential pattern with fixed exposure</span>
<span class="va">octobeast</span><span class="op">$</span><span class="va">arms</span><span class="op">$</span><span class="va">petal_width</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">test_num</span>, <span class="va">formulas</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>formulas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">formulas</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 2</span>
<span class="co">#&gt;   test_num formulas                                </span>
<span class="co">#&gt;      &lt;int&gt; &lt;chr&gt;                                   </span>
<span class="co">#&gt; 1        1 Petal.Width ~ Sepal.Length              </span>
<span class="co">#&gt; 2        1 Petal.Width ~ Sepal.Length              </span>
<span class="co">#&gt; 3        1 Petal.Width ~ Sepal.Length              </span>
<span class="co">#&gt; 4        2 Petal.Width ~ Sepal.Length + Sepal.Width</span>
<span class="co">#&gt; 5        2 Petal.Width ~ Sepal.Length + Sepal.Width</span>
<span class="co">#&gt; 6        2 Petal.Width ~ Sepal.Length + Sepal.Width</span></code></pre></div>
<p>Now, we see how the fit all of the data at once (or in parts if we so choose using the <strong>which_arms</strong> argument). We <em>equipped</em> each <em>arm</em> with the appropriate tested data. We can filter this down to what ever tests are most interesting.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># List of fit</span>
<span class="va">outfitted</span> <span class="op">&lt;-</span>
  <span class="va">octobeast</span><span class="op">$</span><span class="va">equipment</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span>.id <span class="op">=</span> <span class="st">"arm"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span><span class="op">(</span><span class="va">tidied</span><span class="op">)</span>

<span class="co"># See the t-test results</span>
<span class="va">outfitted</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">arm</span> <span class="op">==</span> <span class="st">"sepal_paired"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 17</span>
<span class="co">#&gt;   arm      outcomes   test_num vars   formulas fit   estimate statistic  p.value</span>
<span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;         &lt;int&gt; &lt;list&gt; &lt;list&gt;   &lt;lis&gt;    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1 sepal_p… Sepal.Len…        1 &lt;chr … &lt;formul… &lt;hte…    -2.79     -34.8 1.85e-73</span>
<span class="co">#&gt; # … with 8 more variables: parameter &lt;dbl&gt;, conf.low &lt;dbl&gt;, conf.high &lt;dbl&gt;,</span>
<span class="co">#&gt; #   method &lt;chr&gt;, alternative &lt;chr&gt;, term &lt;chr&gt;, std.error &lt;dbl&gt;, level &lt;fct&gt;</span>
  
<span class="co"># See the significant regression results</span>
<span class="va">octobeast</span><span class="op">$</span><span class="va">equipment</span><span class="op">$</span><span class="va">petal_width</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">test_num</span> <span class="op">==</span> <span class="fl">3</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span><span class="op">(</span><span class="va">tidied</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 0 x 7</span>
<span class="co">#&gt; # … with 7 variables: outcomes &lt;chr&gt;, test_num &lt;int&gt;, vars &lt;list&gt;,</span>
<span class="co">#&gt; #   formulas &lt;list&gt;, level &lt;fct&gt;, fit &lt;list&gt;, tidied &lt;???&gt;</span>

<span class="co"># Compare with the lm</span>
<span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Petal.Width</span> <span class="op">~</span> <span class="va">Species</span> <span class="op">+</span> <span class="va">Sepal.Length</span> <span class="op">+</span> <span class="va">Sepal.Width</span>, data <span class="op">=</span> <span class="va">iris</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html">tidy</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 x 5</span>
<span class="co">#&gt;   term              estimate std.error statistic  p.value</span>
<span class="co">#&gt;   &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1 (Intercept)        -0.869     0.170      -5.12 9.73e- 7</span>
<span class="co">#&gt; 2 Speciesversicolor   1.17      0.0676     17.4  3.04e-37</span>
<span class="co">#&gt; 3 Speciesvirginica    1.78      0.0778     22.9  4.12e-50</span>
<span class="co">#&gt; 4 Sepal.Length        0.0636    0.0340      1.87 6.30e- 2</span>
<span class="co">#&gt; 5 Sepal.Width         0.232     0.0515      4.52 1.29e- 5</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Anish Shah.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
